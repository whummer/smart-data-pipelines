<div>
	<!--<div class="row">
		<div class="col-lg-12">
			<h1>DATA PIPELINES</h1>
		</div>
	</div>-->
	<div class="row" style="margin-bottom: 10px">
		<div class="col-lg-12 ">
			<div class="ibox float-e-margins">
				<div class="ibox-title">
					<h2 ng-class="{'text-muted' : !pipeline.name}">
						{{pipeline.name ? pipeline.name : 'Untitled' }} <small>{{pipeline.description}}</small>
					</h2>

				</div>
				<div class="ibox-content pipeEditor">




					<!-- PIPELINE CANVAS -->
					<!--<div ng-include="'app/views/sdps/sdps.edit.canvas.dragular.html'"></div>-->
					<div class="dropzone" ng-include="'app/views/sdps/sdps.edit.canvas.html'"></div>

					<!-- PIPELINE PROPERTIES -->
					<div class="row " style="margin-top: 5px; margin-right: 0px">
						<div class="col-lg-6">
							<form class="form">
								<div class="form-group">
									<label class="col-sm-4">Label</label>
									<div class="col-sm-8">
										<input class="form-control" name="label" ng-model="pipeline.name"/>
									</div>
								</div>
								<div class="form-group">
									<label class="col-sm-4">Description</label>
									<div class="col-sm-8">
										<input class="form-control" name="description" ng-model="pipeline.description"/>
									</div>
								</div>
								<div class="clearfix"></div>
							</form>
						</div>
						<div class="col-lg-6" style="margin-top: 20px">
							<button class="btn btn-lg btn-primary btn-sm pull-right" ng-click="submitDatapipe()"
							        style="margin-left: 10px;">
								<i class="fa fa-floppy-o"></i> Save Data Pipe
							</button>

							<button class="btn btn-primary btn-sm pull-right" ng-click="showPipelineDefinition(pipeline)">
								<i class="fa fa-code"></i> Show Data Pipe Definition
							</button>

							<button class="btn btn-primary btn-sm pull-right" ng-click="importPipeline()"
							        style="margin-right: 10px;">
								<i class="fa fa-plus"></i> Import Data Pipe
							</button>

							<br/>
							<br/>
							<button class="btn btn-sm btn-warning pull-right" ng-click="clearCanvas()">
								<i class="fa fa-trash"></i> Clear Canvas
							</button>

							<button class="btn btn-sm btn-danger pull-right" ng-click="deletePipelineAndShowList(pipeline)"
							        style="margin-right: 10px;">
								<i class="fa fa-remove"></i> Delete Datapipe
							</button>

							<br/>
							<br/>
							<div class="checkbox pull-right">
								<label>
									<input type="checkbox" ng-model="showElementSource"/>Show Element Source
								</label>
							</div>

						</div>
					</div>
					<div class="row" ng-show="selectedItem && showElementSource">
						<div class="col-lg-12">{{selectedItem}}</div>
					</div>
				</div>
			</div>

		</div>

	</div>

	<!-- PIPELINE TOOLBOX -->
	<div class="row">
		<div class="col-lg-6">
			<div class=" ibox float-e-margins">
				<div class="ibox-title">
					<h5>Pipeline Toolbox</h5>
				</div>
				<div class="ibox-content">
					<div class="row">
						<div class="pipeToolbox toolbox box box-padding col-sm-10 ">
							<ul>
								<li ng-repeat="template in templates"
								    dnd-draggable="template"
								    dnd-effect-allowed="copy"
								    dnd-copied="template.id = template.id + 1">

									<div class="{{getClassForElement(template)}}">
										<i style="margin-top: 10px" class="fa fa-2x fa-{{template.icon}}"></i><br/>
										<span style="font-weight: 800; ">{{template.label}}</span>
									</div>

								</li>
							</ul>
						</div>

						<div class="col-sm-2 removeElementArea" dnd-list="[]">
							<i class="fa fa-3x fa-trash"></i><br/>
						</div>

						<div class="clearfix"></div>
					</div>
				</div>
			</div>
		</div>

		<!-- ELEMENT CONFIGURATION -->
		<div class="col-lg-6" ng-show="selectedItem">
			<div class="ibox float-e-margins">
				<div class="ibox-title">
					<h5>Details for {{selectedItem.type}} <span ng-show="selectedItem.label"> &rsaquo;&rsaquo;
						{{selectedItem.label}}
							&lsaquo;&lsaquo;</span></h5>
				</div>
				<div class="ibox-content">

					<form class="form">

						<div class="form-group">
							<label class="col-lg-4">Label</label>
							<div class="col-lg-8">
								<input class="form-control" name="label" ng-model="selectedItem.label"/>
							</div>
						</div>

						<div class="form-group">
							<label class="col-lg-4">Description</label>
							<div class="col-lg-8">
								<input class="form-control" name="description" ng-model="selectedItem.description"/>
							</div>
						</div>

						<div class="form-group" ng-show="selectedItem.type=='source'">
							<label class="col-lg-4">Source Type</label>
							<div class="col-lg-8">
								<select ng-options="s.subtype as s.subtype for s in sources"
								        ng-model="selectedItem.subtype"
								        class="form-control input-sm"></select>
							</div>
						</div>

						<div class="form-group" ng-show="selectedItem.type=='processor'">
							<label class="col-lg-4">Processor Type</label>
							<div class="col-lg-8">
								<select ng-options="p.subtype as p.subtype for p in processors"
								        ng-model="selectedItem.subtype"
								        class="form-control input-sm"></select>
							</div>
						</div>

						<div class="form-group" ng-show="selectedItem.type=='sink'">
							<label class="col-lg-4">Sink Type</label>
							<div class="col-lg-8">
								<select ng-options="s.subtype as s.subtype for s in sinks "
								        ng-model="selectedItem.subtype"
								        class="form-control input-sm"></select>
							</div>
						</div>

						<div class="form-group" ng-repeat="option in getAvailableOptions(selectedItem)">
							<label class="col-lg-4">{{option.name}}</label>
							<div class="col-lg-8">
								<input class="form-control" name="{{option.name}}"
								       type="{{option.type == 'Number' ? 'number' : 'text'}}"
								       ng-model="selectedItem.options[option.name]"/>
							</div>
						</div>

						<div class="clearfix"></div>
					</form>
				</div>
			</div>
		</div>

	</div>

	<div class="clearfix"></div>

</div>
