<div class="animated fadeIn" style="overflow: visible;;" ng-controller="dataItemsExtractorCtrl">
	<h2>Extract individual data items from your Data Resource</h2>
	<br/>

	<p>In this step, you can use some real data of yours (the data you will send to Riox) to create individual
		<strong>Data Items</strong>. If you don't want to provide your data as-is to your consumer, now it is the time
		to create Data Items out of a sample request. Just paste the body of your request into the area below.
	</p>

	<p>If you want to provide the data as it is to your consumers, skip this step

	</p>

	<a ng-click="createDataItems = true" ng-hide="createDataItems" class="btn btn-primary">
		Create Data Items
	</a>

	<a ui-sref="provider.wizard.data_pricing" ng-hide="createDataItems" class="btn btn-primary">
		Skip
	</a>

	<div id="payloadArea" class="row" ng-show="createDataItems">

		<div class="col-sm-12" >
				<textarea id="resourcePayload" ng-keyup="extractDataItems();" rows="10" name="resourcePayload" placeholder=""
									class="form-control"
									ng-model="resourceData.payload" required></textarea>

			<!--<div class="form-group">
				&lt;!&ndash;<label for="resourcePayload" class="col-sm-3 control-label">Sample Payload (e.g. JSON or XML)</label>&ndash;&gt;
				<div class="col-sm-8">
					<textarea id="resourcePayload" rows="10" name="resourcePayload" placeholder="" class="form-control"
										ng-model="resourceData.payload" required></textarea>
					<a ng-click="extractDataItems();" style="margin-top: 10px;;" class="btn btn-primary pull-right"
						 ng-hide="extractedItems"
						 ng-disabled="!resourceData.payload.length">
						Extract Data Items
					</a>
				</div>

			</div>-->

		</div>
	</div>

	<div class="error">

	</div>

	<div hljs ng-show="parsedPayload" class="animated fadeIn" source="parsedPayload">
	</div>

	<div class="row" ng-show="resourceData.extractedItems && parsedPayload">

		<div class="widget dark-grey-widget-bg p-xl animated fadeIn" style="margin-left: 18px;margin-right: 18px">
			<h3>Please pick and describe your individual data items</h3><br/>

			<div class="row" style="margin-bottom: 10px; margin-top:15px">
				<div class="col-sm-3 text-center"><strong>Data Item Name</strong></div>
				<div class="col-sm-1 text-center"><strong>Used</strong></div>
				<div class="col-sm-6 text-center"><strong>Description</strong></div>
			</div>
			<div class="row">
				<div class="form-group" ng-repeat="(property, value) in resourceData.extractedItems"
						 ng-init="resourceData.dataItems[property].name = property">
					<label for="item_{{property}}" class="col-sm-3 control-label">{{property}}</label>
					<div class="col-sm-1">
						<input id="item_{{property}}"
									 ui-switch="{color:'#5C9C4D', size: 'small'}"
									 ng-model="resourceData.dataItems[property].enabled"
									 type="checkbox"
									 class="form-control"/>

					</div>
					<div class="col-sm-6" ng-show="resourceData.dataItems[property].enabled">
						<input type="text" class="form-control input-sm"
									 style="color: #676a6c;;"
									 ng-model="resourceData.dataItems[property].description"
									 placeholder="enter description for data item '{{property}}'"/>
					</div>
					<!--todo add select for data item tags-->
					<!--<div class="col-sm-4" ng-show="resourceData.dataItems[property].enabled">
						<select multiple chosen ng-model="resourceData.dataItems[property].tags" style="overflow: visible;">
							<option value="car">id</option>
							<option value="speed">speed</option>
							<option value="temperature">temperature</option>
							<option value="pressure">pressure</option>
							<option value="acceleration">acceleration</option>
							<option value="altitude">altitude</option>
							<option value="humidity">humidity</option>
						</select>
					</div>-->
				</div>
			</div>

		</div>
	</div>


	<div class="row">
		<div class="col-sm-6">
			<div ng-show="error"><span class="error">{{error}}</span></div>
		</div>
		<div class="col-sm-6">
			<a ng-show="createDataItems" class="btn btn-primary pull-right" ng-click="resetDataItems()" style="margin-top: 10px;">
				Reset
			</a>
		</div>
	</div>


	<div class="row" ng-show="createDataItems" style="margin-top: 10px">
		<div class="col-sm-12">
			<button ui-sref="provider.wizard.data_retention" class="btn btn-primary">
				Previous
			</button>

			<button ui-sref="provider.wizard.data_pricing" class="btn btn-primary"
							ng-disabled="resourceForm.$invalid || resourceForm.$pristine">
				Next
			</button>

		</div>
	</div>

</div>


