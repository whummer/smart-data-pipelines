<section ng-controller="ProfileDetailsController">
	<div style="max-width: 600px;">
		<div class="row">
			<div class="form-group">
				<label for="dateFrom" class="col-sm-4 control-label">First Name</label>
				<div class="col-sm-8">
					<input class="form-control input-sm" data-ng-model="userInfo.firstname"/>
				</div>
			</div>
			<div class="form-group">
				<label for="dateFrom" class="col-sm-4 control-label">Last Name</label>
				<div class="col-sm-8">
					<input class="form-control input-sm" data-ng-model="userInfo.lastname"/>
				</div>
			</div>
			<div class="form-group">
				<label for="dateFrom" class="col-sm-4 control-label">Date of Birth</label>
				<div class="col-sm-8">
					<div class="dropdown">
						<a class="dropdown-toggle" id="dropdown1" role="button" 
							data-toggle="dropdown" data-target="#" href="#">
							<div class="input-group">
								<input class="form-control input-sm" data-ng-model="userInfo.birthDate"/>
								<span class="input-group-addon"><i class="glyphicon glyphicon-calendar"></i></span>
							</div>
						</a>
						<ul class="dropdown-menu" role="menu">
							<datepicker data-ng-model="searchOpts[START_TIME]" 
								data-datepicker-config="{ dropdownSelector: '#dropdown1' }"/>
						</ul>
					</div>
				</div>
			</div>
			<div class="form-group">
				<label for="dateFrom" class="col-sm-4 control-label">Street Address</label>
				<div class="col-sm-8">
					<input class="form-control input-sm" data-ng-model="userInfo.address.street"/>
				</div>
			</div>
			<div class="form-group">
				<label for="dateFrom" class="col-sm-4 control-label">Street Address (Line 2)</label>
				<div class="col-sm-8">
					<input class="form-control input-sm" data-ng-model="userInfo.address.streetLine2"/>
				</div>
			</div>
			<div class="form-group">
				<label for="dateFrom" class="col-sm-4 control-label">Postal Code / City</label>
				<div class="col-sm-3">
					<input class="form-control input-sm" maxlength="6" data-ng-model="userInfo.address.postCode"/>
				</div>
				<div class="col-sm-5">
					<input class="form-control input-sm" data-ng-model="userInfo.address.city"/>
				</div>
			</div>
			<div class="form-group">
				<label for="dateFrom" class="col-sm-4 control-label">Country</label>
				<div class="col-sm-8">
					<select class="form-control input-sm" data-ng-model="userInfo.address.country" 
							ng-options="key as name for (key, name) in countries"></select>
				</div>
			</div>
			<div class="col-md-12">
			    <button class="pull-right btn btn-primary btn-sm" id="btnSaveProfile">
			    	<span class="glyphicon glyphicon-search"></span> Save Changes</button>
			</div>
		</div>

	</div>
</section>
<style type="text/css">
#actionsTable {
	height: 300px;
}
</style>
<script type="text/javascript">

var app = angular.module("app");
app.controller('ProfileDetailsController',
		function ($scope, $http, $compile, $routeParams, $log, $location) {
    AppController($scope, $http, $compile);

    $scope.countries = window.ISO_3166_COUNTRIES;

    var saveProfile = function() {
    	riots.save.me($scope.userInfo, function() {
    		$scope.growlInfo("Profile details saved successfully.");
    	});
    }

    /* register event handlers */
    $scope.addClickHandler("btnSaveProfile", saveProfile);

});

</script>