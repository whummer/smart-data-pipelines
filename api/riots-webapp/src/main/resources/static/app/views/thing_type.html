<section ng-controller="CatalogViewController" id="devCatalogSection">
    <div class="container">
        <div class="panel panel-default">
            <div class="panel-heading">
                <h2 class="panel-title"><span class="glyphicon glyphicon-edit"></span> <b>{{shared.selectedThingType.name}}</b>
                </h2>
            </div>
            <div class="panel-body">
                <section ng-controller="ThingTypeController" id="devTypeSection">
                    <tabset>
                        <tab heading="General Properties">
                            <ng-include src="appConfig['appRootPath'] + '/views/thing_type_details.html'"></ng-include>
                        </tab>
                        <tab heading="Virtualizable Properties">
                            <ng-include src="appConfig['appRootPath'] + '/views/thing_type_props.html'"></ng-include>
                        </tab>
                        <tab heading="Thing Drivers">
                            <ng-include src="appConfig['appRootPath'] + '/views/thing_type_drivers.html'"></ng-include>
                        </tab>
                    </tabset>
                </section>
            </div>
        </div>
    </div>
</section>

<script type="text/javascript">

    var app = angular.module("app");
    app.controller('ThingTypeController', function ($scope, $http, $compile, $routeParams, $log) {
                AppController($scope, $http, $compile);
                if ($routeParams.thingTypeID) {
                    invokeGET($scope.http, $scope.thingTypesAPI + "/" + $routeParams.thingTypeID,
                            function (data, status, headers, config) {
                                $log.info("Loading ThingType with ID " + $routeParams.thingTypeID);
                                $scope.shared.selectedThingType = data.result;
                                $scope.shared.selectedThingType['image-urls'] = [];
                                $log.debug("Adding Thing to shared scope: ", data.result);
                            }
                    );
                }
            }
    );

</script>
